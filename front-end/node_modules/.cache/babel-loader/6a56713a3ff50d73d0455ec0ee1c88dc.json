{"ast":null,"code":"import axios from \"axios\";\nclass AuthenticationService {\n  registerSuccessfullLogin(username, password) {\n    //data stored in localStorage has no expiration time \n    //data stored in sessionStorage gets cleared when the page seesion ends\n    sessionStorage.setItem('authenticatedUser', username);\n    this.setupAxiosInterceptors();\n  }\n  logout() {\n    sessionStorage.removeItem('authenticatedUser');\n  }\n  isUserLoggedIn() {\n    let user = sessionStorage.getItem('authenticatedUser');\n    if (user === null) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n  getLoggedInUserName() {\n    let user = sessionStorage.getItem('authenticatedUser');\n    if (user === null) {\n      return '';\n    } else {\n      return user;\n    }\n  }\n  setupAxiosInterceptors() {\n    let username = 'user';\n    let password = 'password';\n    let basicAuthHeader = 'Basic ' + window.btoa(username + \":\" + password);\n    axios.interceptors.request.use(config => {\n      if (this.isUserLoggedIn()) {\n        config.headers.authorization = basicAuthHeader;\n      }\n      return config;\n    });\n  }\n}\nexport default new AuthenticationService();","map":{"version":3,"names":["axios","AuthenticationService","registerSuccessfullLogin","username","password","sessionStorage","setItem","setupAxiosInterceptors","logout","removeItem","isUserLoggedIn","user","getItem","getLoggedInUserName","basicAuthHeader","window","btoa","interceptors","request","use","config","headers","authorization"],"sources":["C:/Users/d1029/Documents/full_stack/todo-app/first_front_back_end_application/front-end/src/components/todo/AuthenticationService.js"],"sourcesContent":["import axios from \"axios\";\r\nclass AuthenticationService{\r\n    registerSuccessfullLogin(username,password){\r\n        //data stored in localStorage has no expiration time \r\n        //data stored in sessionStorage gets cleared when the page seesion ends\r\n        sessionStorage.setItem('authenticatedUser',username);\r\n        this.setupAxiosInterceptors()\r\n    }\r\n    logout(){\r\n        sessionStorage.removeItem('authenticatedUser')\r\n    }\r\n    isUserLoggedIn(){\r\n        let user = sessionStorage.getItem('authenticatedUser')\r\n        if(user===null){return false}\r\n        else{return true}\r\n    }\r\n    getLoggedInUserName(){\r\n        let user = sessionStorage.getItem('authenticatedUser')\r\n        if(user===null){return ''}\r\n        else{return user}\r\n    }\r\n    setupAxiosInterceptors(){\r\n\r\n        let username = 'user'\r\n        let password = 'password'\r\n\r\n        let basicAuthHeader = 'Basic '+window.btoa(username +\":\"+password)\r\n\r\n        axios.interceptors.request.use(\r\n            (config) => {\r\n                if(this.isUserLoggedIn()){\r\n                config.headers.authorization = basicAuthHeader\r\n            }\r\n            return config\r\n        }\r\n        )\r\n    }\r\n\r\n}\r\nexport default new AuthenticationService()"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,qBAAqB;EACvBC,wBAAwB,CAACC,QAAQ,EAACC,QAAQ,EAAC;IACvC;IACA;IACAC,cAAc,CAACC,OAAO,CAAC,mBAAmB,EAACH,QAAQ,CAAC;IACpD,IAAI,CAACI,sBAAsB,EAAE;EACjC;EACAC,MAAM,GAAE;IACJH,cAAc,CAACI,UAAU,CAAC,mBAAmB,CAAC;EAClD;EACAC,cAAc,GAAE;IACZ,IAAIC,IAAI,GAAGN,cAAc,CAACO,OAAO,CAAC,mBAAmB,CAAC;IACtD,IAAGD,IAAI,KAAG,IAAI,EAAC;MAAC,OAAO,KAAK;IAAA,CAAC,MACzB;MAAC,OAAO,IAAI;IAAA;EACpB;EACAE,mBAAmB,GAAE;IACjB,IAAIF,IAAI,GAAGN,cAAc,CAACO,OAAO,CAAC,mBAAmB,CAAC;IACtD,IAAGD,IAAI,KAAG,IAAI,EAAC;MAAC,OAAO,EAAE;IAAA,CAAC,MACtB;MAAC,OAAOA,IAAI;IAAA;EACpB;EACAJ,sBAAsB,GAAE;IAEpB,IAAIJ,QAAQ,GAAG,MAAM;IACrB,IAAIC,QAAQ,GAAG,UAAU;IAEzB,IAAIU,eAAe,GAAG,QAAQ,GAACC,MAAM,CAACC,IAAI,CAACb,QAAQ,GAAE,GAAG,GAACC,QAAQ,CAAC;IAElEJ,KAAK,CAACiB,YAAY,CAACC,OAAO,CAACC,GAAG,CACzBC,MAAM,IAAK;MACR,IAAG,IAAI,CAACV,cAAc,EAAE,EAAC;QACzBU,MAAM,CAACC,OAAO,CAACC,aAAa,GAAGR,eAAe;MAClD;MACA,OAAOM,MAAM;IACjB,CAAC,CACA;EACL;AAEJ;AACA,eAAe,IAAInB,qBAAqB,EAAE"},"metadata":{},"sourceType":"module"}