{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\d1029\\\\Documents\\\\full_stack\\\\todo-app\\\\first_front_back_end_application\\\\front-end\\\\src\\\\components\\\\todo\\\\ListTodosComponent.jsx\";\nimport React, { Component } from 'react';\nimport TodoDataService from '../../api/todo/TodoDataService.js';\nimport AuthenticationService from './AuthenticationService.js';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ListTodosComponent extends Component {\n  constructor(props) {\n    console.log('constructor');\n    super(props);\n    this.state = {\n      todos: [],\n      message: null\n    };\n    this.deleteTodoClicked = this.deleteTodoClicked.bind(this);\n    this.updateTodoClicked = this.updateTodoClicked.bind(this);\n    this.addTodoClicked = this.addTodoClicked.bind(this);\n    this.refreshTodos = this.refreshTodos.bind(this);\n  }\n  componentWillUnmount() {\n    console.log('componentWillUnmount');\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    console.log('shouldComponentUpdate');\n    console.log(nextProps);\n    console.log(nextState);\n    return true;\n  }\n  componentDidMount() {\n    console.log('componentDidMount');\n    this.refreshTodos();\n    console.log(this.state);\n  }\n  refreshTodos() {\n    let username = AuthenticationService.getLoggedInUserName();\n    TodoDataService.retrieveAllTodos(username).then(response => {\n      //console.log(response);\n      this.setState({\n        todos: response.data\n      });\n    });\n  }\n  deleteTodoClicked(id) {\n    let username = AuthenticationService.getLoggedInUserName();\n    //console.log(id + \" \" + username);\n    TodoDataService.deleteTodo(username, id).then(response => {\n      this.setState({\n        message: `Delete of todo ${id} Successful`\n      });\n      this.refreshTodos();\n    });\n  }\n  addTodoClicked() {\n    this.props.navigate(`/todos/-1`); //REACT-6\n    //this.props.history.push(`/todos/-1`)\n  }\n\n  updateTodoClicked(id) {\n    console.log('update ' + id);\n    this.props.navigate(`/todos/${id}`); //REACT-6\n    //this.props.history.push(`/todos/${id}`)\n\n    // /todos/${id}\n    // let username = AuthenticationService.getLoggedInUserName()\n    // //console.log(id + \" \" + username);\n    // TodoDataService.deleteTodo(username, id)\n    //  .then (\n    //      response => {\n    //         this.setState({message : `Delete of todo ${id} Successful`})\n    //         this.refreshTodos()\n    //      }\n    //  )\n  }\n\n  render() {\n    console.log('render');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"List Todos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), this.state.message && /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"alert alert-success\",\n        children: this.state.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 40\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Target Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"IsCompleted?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.todos.map(todo => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: todo.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: moment(todo.targetDate).format('YYYY-MM-DD')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: todo.done.toString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-success\",\n                  onClick: () => this.updateTodoClicked(todo.id),\n                  children: \"Update\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-warning\",\n                  onClick: () => this.deleteTodoClicked(todo.id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 45\n              }, this)]\n            }, todo.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            onClick: this.addTodoClicked,\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this);\n  }\n}\nexport default ListTodosComponent;","map":{"version":3,"names":["React","Component","TodoDataService","AuthenticationService","moment","ListTodosComponent","constructor","props","console","log","state","todos","message","deleteTodoClicked","bind","updateTodoClicked","addTodoClicked","refreshTodos","componentWillUnmount","shouldComponentUpdate","nextProps","nextState","componentDidMount","username","getLoggedInUserName","retrieveAllTodos","then","response","setState","data","id","deleteTodo","navigate","render","map","todo","description","targetDate","format","done","toString"],"sources":["C:/Users/d1029/Documents/full_stack/todo-app/first_front_back_end_application/front-end/src/components/todo/ListTodosComponent.jsx"],"sourcesContent":["import React, { Component } from 'react'\r\nimport TodoDataService from '../../api/todo/TodoDataService.js'\r\nimport AuthenticationService from './AuthenticationService.js'\r\nimport moment from 'moment'\r\n\r\nclass ListTodosComponent extends Component {\r\n    constructor(props) {\r\n        console.log('constructor')\r\n        super(props)\r\n        this.state = {\r\n            todos: [],\r\n            message: null\r\n        }\r\n        this.deleteTodoClicked = this.deleteTodoClicked.bind(this)\r\n        this.updateTodoClicked = this.updateTodoClicked.bind(this)\r\n        this.addTodoClicked = this.addTodoClicked.bind(this)\r\n        this.refreshTodos = this.refreshTodos.bind(this)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        console.log('componentWillUnmount')\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        console.log('shouldComponentUpdate')\r\n        console.log(nextProps)\r\n        console.log(nextState)\r\n        return true\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log('componentDidMount')\r\n        this.refreshTodos();\r\n        console.log(this.state)\r\n    }\r\n\r\n    refreshTodos() {\r\n        let username = AuthenticationService.getLoggedInUserName()\r\n        TodoDataService.retrieveAllTodos(username)\r\n            .then(\r\n                response => {\r\n                    //console.log(response);\r\n                    this.setState({ todos: response.data })\r\n                }\r\n            )\r\n    }\r\n\r\n    deleteTodoClicked(id) {\r\n        let username = AuthenticationService.getLoggedInUserName()\r\n        //console.log(id + \" \" + username);\r\n        TodoDataService.deleteTodo(username, id)\r\n            .then(\r\n                response => {\r\n                    this.setState({ message: `Delete of todo ${id} Successful` })\r\n                    this.refreshTodos()\r\n                }\r\n            )\r\n\r\n    }\r\n\r\n    addTodoClicked() {\r\n        this.props.navigate(`/todos/-1`)//REACT-6\r\n        //this.props.history.push(`/todos/-1`)\r\n    }\r\n\r\n    updateTodoClicked(id) {\r\n        console.log('update ' + id)\r\n        \r\n        this.props.navigate(`/todos/${id}`)//REACT-6\r\n        //this.props.history.push(`/todos/${id}`)\r\n        \r\n        // /todos/${id}\r\n        // let username = AuthenticationService.getLoggedInUserName()\r\n        // //console.log(id + \" \" + username);\r\n        // TodoDataService.deleteTodo(username, id)\r\n        //  .then (\r\n        //      response => {\r\n        //         this.setState({message : `Delete of todo ${id} Successful`})\r\n        //         this.refreshTodos()\r\n        //      }\r\n        //  )\r\n\r\n    }\r\n\r\n    render() {\r\n        console.log('render')\r\n        return (\r\n            <div>\r\n                <h1>List Todos</h1>\r\n                {this.state.message && <div class=\"alert alert-success\">{this.state.message}</div>}\r\n                <div className=\"container\">\r\n                    <table className=\"table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Description</th>\r\n                                <th>Target Date</th>\r\n                                <th>IsCompleted?</th>\r\n                                <th>Update</th>\r\n                                <th>Delete</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                this.state.todos.map(\r\n                                    todo =>\r\n                                        <tr key={todo.id}>\r\n                                            <td>{todo.description}</td>\r\n                                            <td>{moment(todo.targetDate).format('YYYY-MM-DD')}</td>\r\n                                            <td>{todo.done.toString()}</td>\r\n                                            <td><button className=\"btn btn-success\" onClick={() => this.updateTodoClicked(todo.id)}>Update</button></td>\r\n                                            <td><button className=\"btn btn-warning\" onClick={() => this.deleteTodoClicked(todo.id)}>Delete</button></td>\r\n                                        </tr>\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                    <div className=\"row\">\r\n                        <button className=\"btn btn-success\" onClick={this.addTodoClicked}>Add</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ListTodosComponent"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,eAAe,MAAM,mCAAmC;AAC/D,OAAOC,qBAAqB,MAAM,4BAA4B;AAC9D,OAAOC,MAAM,MAAM,QAAQ;AAAA;AAE3B,MAAMC,kBAAkB,SAASJ,SAAS,CAAC;EACvCK,WAAW,CAACC,KAAK,EAAE;IACfC,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;IAC1B,KAAK,CAACF,KAAK,CAAC;IACZ,IAAI,CAACG,KAAK,GAAG;MACTC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE;IACb,CAAC;IACD,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,CAACC,IAAI,CAAC,IAAI,CAAC;IAC1D,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,CAACD,IAAI,CAAC,IAAI,CAAC;IAC1D,IAAI,CAACE,cAAc,GAAG,IAAI,CAACA,cAAc,CAACF,IAAI,CAAC,IAAI,CAAC;IACpD,IAAI,CAACG,YAAY,GAAG,IAAI,CAACA,YAAY,CAACH,IAAI,CAAC,IAAI,CAAC;EACpD;EAEAI,oBAAoB,GAAG;IACnBV,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;EACvC;EAEAU,qBAAqB,CAACC,SAAS,EAAEC,SAAS,EAAE;IACxCb,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;IACpCD,OAAO,CAACC,GAAG,CAACW,SAAS,CAAC;IACtBZ,OAAO,CAACC,GAAG,CAACY,SAAS,CAAC;IACtB,OAAO,IAAI;EACf;EAEAC,iBAAiB,GAAG;IAChBd,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;IAChC,IAAI,CAACQ,YAAY,EAAE;IACnBT,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,KAAK,CAAC;EAC3B;EAEAO,YAAY,GAAG;IACX,IAAIM,QAAQ,GAAGpB,qBAAqB,CAACqB,mBAAmB,EAAE;IAC1DtB,eAAe,CAACuB,gBAAgB,CAACF,QAAQ,CAAC,CACrCG,IAAI,CACDC,QAAQ,IAAI;MACR;MACA,IAAI,CAACC,QAAQ,CAAC;QAAEjB,KAAK,EAAEgB,QAAQ,CAACE;MAAK,CAAC,CAAC;IAC3C,CAAC,CACJ;EACT;EAEAhB,iBAAiB,CAACiB,EAAE,EAAE;IAClB,IAAIP,QAAQ,GAAGpB,qBAAqB,CAACqB,mBAAmB,EAAE;IAC1D;IACAtB,eAAe,CAAC6B,UAAU,CAACR,QAAQ,EAAEO,EAAE,CAAC,CACnCJ,IAAI,CACDC,QAAQ,IAAI;MACR,IAAI,CAACC,QAAQ,CAAC;QAAEhB,OAAO,EAAG,kBAAiBkB,EAAG;MAAa,CAAC,CAAC;MAC7D,IAAI,CAACb,YAAY,EAAE;IACvB,CAAC,CACJ;EAET;EAEAD,cAAc,GAAG;IACb,IAAI,CAACT,KAAK,CAACyB,QAAQ,CAAE,WAAU,CAAC;IAChC;EACJ;;EAEAjB,iBAAiB,CAACe,EAAE,EAAE;IAClBtB,OAAO,CAACC,GAAG,CAAC,SAAS,GAAGqB,EAAE,CAAC;IAE3B,IAAI,CAACvB,KAAK,CAACyB,QAAQ,CAAE,UAASF,EAAG,EAAC,CAAC;IACnC;;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAEJ;;EAEAG,MAAM,GAAG;IACLzB,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;IACrB,oBACI;MAAA,wBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAmB,EAClB,IAAI,CAACC,KAAK,CAACE,OAAO,iBAAI;QAAK,KAAK,EAAC,qBAAqB;QAAA,UAAE,IAAI,CAACF,KAAK,CAACE;MAAO;QAAA;QAAA;QAAA;MAAA,QAAO,eAClF;QAAK,SAAS,EAAC,WAAW;QAAA,wBACtB;UAAO,SAAS,EAAC,OAAO;UAAA,wBACpB;YAAA,uBACI;cAAA,wBACI;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAoB,eACpB;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAoB,eACpB;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAqB,eACrB;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAe,eACf;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAAe;YAAA;cAAA;cAAA;cAAA;YAAA;UACd;YAAA;YAAA;YAAA;UAAA,QACD,eACR;YAAA,UAEQ,IAAI,CAACF,KAAK,CAACC,KAAK,CAACuB,GAAG,CAChBC,IAAI,iBACA;cAAA,wBACI;gBAAA,UAAKA,IAAI,CAACC;cAAW;gBAAA;gBAAA;gBAAA;cAAA,QAAM,eAC3B;gBAAA,UAAKhC,MAAM,CAAC+B,IAAI,CAACE,UAAU,CAAC,CAACC,MAAM,CAAC,YAAY;cAAC;gBAAA;gBAAA;gBAAA;cAAA,QAAM,eACvD;gBAAA,UAAKH,IAAI,CAACI,IAAI,CAACC,QAAQ;cAAE;gBAAA;gBAAA;gBAAA;cAAA,QAAM,eAC/B;gBAAA,uBAAI;kBAAQ,SAAS,EAAC,iBAAiB;kBAAC,OAAO,EAAE,MAAM,IAAI,CAACzB,iBAAiB,CAACoB,IAAI,CAACL,EAAE,CAAE;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA;cAAgB;gBAAA;gBAAA;gBAAA;cAAA,QAAK,eAC5G;gBAAA,uBAAI;kBAAQ,SAAS,EAAC,iBAAiB;kBAAC,OAAO,EAAE,MAAM,IAAI,CAACjB,iBAAiB,CAACsB,IAAI,CAACL,EAAE,CAAE;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA;cAAgB;gBAAA;gBAAA;gBAAA;cAAA,QAAK;YAAA,GALvGK,IAAI,CAACL,EAAE;cAAA;cAAA;cAAA;YAAA,QAMX;UACZ;YAAA;YAAA;YAAA;UAAA,QAED;QAAA;UAAA;UAAA;UAAA;QAAA,QACJ,eACR;UAAK,SAAS,EAAC,KAAK;UAAA,uBAChB;YAAQ,SAAS,EAAC,iBAAiB;YAAC,OAAO,EAAE,IAAI,CAACd,cAAe;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAa;UAAA;UAAA;UAAA;QAAA,QAC5E;MAAA;QAAA;QAAA;QAAA;MAAA,QACJ;IAAA;MAAA;MAAA;MAAA;IAAA,QACJ;EAEd;AACJ;AAEA,eAAeX,kBAAkB"},"metadata":{},"sourceType":"module"}